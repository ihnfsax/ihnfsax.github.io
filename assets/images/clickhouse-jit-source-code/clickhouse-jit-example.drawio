<mxfile host="Electron" modified="2023-07-21T13:06:33.391Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.5.0 Chrome/112.0.5615.204 Electron/24.5.1 Safari/537.36" version="21.5.0" etag="_73xvOA4-IunSZnR6W2Q" type="device">
  <diagram id="pvgbrFcUqsEbMswwlEi7" name="第 1 页">
    <mxGraphModel dx="1757" dy="840" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ME05sHqmQi5WbiYCBHi3-1" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;plus(&lt;br style=&quot;font-size: 10px;&quot;&gt;&lt;/font&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&amp;nbsp; plus(&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&amp;nbsp; &amp;nbsp; Int32,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&amp;nbsp; &amp;nbsp; multiply(Int32, Int32)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&amp;nbsp; ),&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;&amp;nbsp; 5 : UInt8&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=FiraCode Nerd Font Mono;align=left;verticalAlign=middle;spacing=2;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="42.5" y="760" width="165" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-3" value="&lt;font&gt;CompileDAG&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="80" y="730" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=FiraCode Nerd Font Mono;curved=1;" parent="1" source="ME05sHqmQi5WbiYCBHi3-4" target="ME05sHqmQi5WbiYCBHi3-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-10" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=FiraCode Nerd Font Mono;" parent="1" source="ME05sHqmQi5WbiYCBHi3-4" target="ME05sHqmQi5WbiYCBHi3-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-4" value="transformPipeline()" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="210" y="360" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-11" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=FiraCode Nerd Font Mono;fontSize=10;" parent="1" source="ME05sHqmQi5WbiYCBHi3-5" target="ME05sHqmQi5WbiYCBHi3-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="124.99999999999977" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-5" value="construct &lt;b&gt;ExpressionActions&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;" parent="1" vertex="1">
          <mxGeometry x="10" y="460" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-17" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=FiraCode Nerd Font Mono;fontSize=10;" parent="1" source="ME05sHqmQi5WbiYCBHi3-6" target="ME05sHqmQi5WbiYCBHi3-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-6" value="construct &lt;b&gt;ExpressionTransform&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;" parent="1" vertex="1">
          <mxGeometry x="337" y="460" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-12" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=FiraCode Nerd Font Mono;fontSize=10;" parent="1" source="ME05sHqmQi5WbiYCBHi3-7" target="ME05sHqmQi5WbiYCBHi3-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-7" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;0 : INPUT () Int32 a&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;1 : INPUT () Int32 b&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;2 : INPUT () Int32 c&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;3 : FUNCTION (1, 2) Int64 multiply(b, c) [multiply]&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;4 : FUNCTION (0, 3) Int64 plus(a, multiply(b, c)) [plus]&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;5 : COLUMN () Const(UInt8) UInt8 5&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;6 : FUNCTION (4, 5) Int64 plus(plus(a, multiply(b, c)), 5) [plus]&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=FiraCode Nerd Font Mono;align=left;fontSize=10;spacingLeft=3;" parent="1" vertex="1">
          <mxGeometry x="-80" y="580" width="410" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-8" value="&lt;font&gt;ActionDAG&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="83.5" y="550" width="83" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-14" value="&lt;font&gt;LLVMExecutableFunction&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="360.5" y="900" width="183" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-15" value="1. emit llvm function" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="120" y="390" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-16" value="2. execute llvm function" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="360.5" y="390" width="99.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-19" value="···" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=FiraCode Nerd Font Mono;fontSize=19;strokeColor=none;rotation=-90;" parent="1" vertex="1">
          <mxGeometry x="427" y="635" width="50" height="10" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-21" value="call llvm function" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="370" y="970" width="164" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-22" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=FiraCode Nerd Font Mono;fontSize=10;" parent="1" source="ME05sHqmQi5WbiYCBHi3-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="462" y="600" as="sourcePoint" />
            <mxPoint x="452" y="970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-23" value="save llvm function address" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="220" y="920" width="124" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-24" value="Physical Plan" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="567" y="590" width="134" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-25" value="┌─explain──────────────────┐&lt;br&gt;│ (Expression)&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;│&lt;br&gt;│ &lt;u&gt;ExpressionTransform&lt;/u&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; │&lt;br&gt;│&amp;nbsp; &amp;nbsp;(ReadFromMergeTree)&amp;nbsp; &amp;nbsp; │&lt;br&gt;│&amp;nbsp; &amp;nbsp;MergeTreeInOrder 0 → 1 │&lt;br&gt;└──────────────────────────┘" style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=FiraCode Nerd Font Mono;" parent="1" vertex="1">
          <mxGeometry x="534" y="620" width="226" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-26" value="JIT in &quot;SELECT a + b * c + 5 FROM test_table;&quot;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontSize=14;fontStyle=3" parent="1" vertex="1">
          <mxGeometry x="72.25" y="320" width="435.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-27" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=FiraCode Nerd Font Mono;fontSize=10;" parent="1" source="ME05sHqmQi5WbiYCBHi3-1" target="ME05sHqmQi5WbiYCBHi3-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="217.49999999999977" y="815" as="sourcePoint" />
            <mxPoint x="125" y="920" as="targetPoint" />
            <Array as="points">
              <mxPoint x="125" y="915" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-28" value="JIT procedure:&lt;br&gt;1. create module&lt;br&gt;2. create function (operator fusion)&lt;br&gt;3. compile module" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="-14" y="884" width="154" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ME05sHqmQi5WbiYCBHi3-29" value="" style="endArrow=open;html=1;rounded=0;fontFamily=FiraCode Nerd Font Mono;fontSize=14;curved=1;dashed=1;endFill=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="549" y="662" as="sourcePoint" />
            <mxPoint x="462" y="486" as="targetPoint" />
            <Array as="points">
              <mxPoint x="490" y="610" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2" value="use IFunction::isCompilable()" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=FiraCode Nerd Font Mono;" parent="1" vertex="1">
          <mxGeometry x="130.5" y="688" width="230" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
